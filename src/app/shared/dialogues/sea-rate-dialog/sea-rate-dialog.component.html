<div class="seaRates-modal animated fadeIn">
  <div class="modal-header">
    <h4 class="provider-modal-title">Add Rates</h4>
    <a class="pointer crossIcon" (click)="closeModal(null)">
      <img src="../../../../assets/images/icons/icon_close.svg" alt="close" class="icon-size-16">
    </a>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-6">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Shipping Lines" [(ngModel)]="selectedShipping" [ngbTypeahead]="shippings"
            [resultTemplate]="st" [inputFormatter]="formatter">
          <ng-template #st let-r="result">
            <ngb-highlight [result]="r.CarrierName"></ngb-highlight>
          </ng-template>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <select class="form-control" [(ngModel)]="selectedCategory" (change)="cargoTypeChange(selectedCategory)">
            <option [value]="undefined" disabled>--Select--</option>
            <option *ngFor="let cargo of allCargoType" [value]="cargo.ShippingCatID">{{cargo.ShippingCatName}}</option>
          </select>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <select class="form-control" [(ngModel)]="selectedContSize" >
            <option [value]="undefined" disabled>--Select--</option>
            <option *ngFor="let container of allContainers" [value]="container.ContainerSpecID">{{container.ContainerSpecShortName}}</option>
          </select>
        </div>
      </div>
      <div class="col-6">
        <div class="row combine-field">
          <div class="col-6 origin">
            <div class="flag-container">
              <img *ngIf="filterOrigin && filterOrigin.CountryCode" src="{{'../../../../../assets/images/flags/4x3/' + (filterOrigin.CountryCode | lowercase) + '.svg'}}"
                type="image/svg+xml" class="mw-100 w-auto h-auto mh-100">
            </div>
            <input class="form-control" [(ngModel)]="filterOrigin" placeholder="Origin" type="text" [ngClass]="{'routeSelected': filterOrigin && filterOrigin.CountryCode}"
              [ngbTypeahead]="ports" [resultTemplate]="rt" [inputFormatter]="portsFormatter" />
          </div>
          <div class="col-6 destination">
            <div class="flag-container">
              <img *ngIf="filterDestination && filterDestination.CountryCode" src="{{'../../../../../assets/images/flags/4x3/' + (filterDestination.CountryCode | lowercase) + '.svg'}}"
                type="image/svg+xml" class="mw-100 w-auto h-auto mh-100">
            </div>
            <input placeholder="Destination" [(ngModel)]="filterDestination" type="text" class="form-control" [ngClass]="{'routeSelected': filterDestination && filterDestination.CountryCode}"
              [ngbTypeahead]="ports" [resultTemplate]="rt" [inputFormatter]="portsFormatter" />
          </div>

        </div>
        <ng-template #rt let-r="result">
          <div class="d-flex">
            <div class="flag-container mr-1">
              <img src="{{'../../../../../assets/images/flags/4x3/' + (r.CountryCode | lowercase) + '.svg'}}" class="mw-100 w-auto h-auto mh-100">
            </div>
            <ngb-highlight [result]="r.PortName"></ngb-highlight>
          </div>
        </ng-template>
      </div>
      <div class="col-6">
        <div class="form-group date-control">
          <div class="dateIcon">
            <input autocomplete="off" #rangeDp class="form-control" placeholder="Start Date - End Date" name="dp" [(ngModel)]="model"
              ngbDatepicker [dayTemplate]="t" [autoClose]="false" placement="bottom-right" [outsideDays]="true" [navigation]="false"
              [displayMonths]="2" [maxDate]="maxDate" [minDate]="minDate" #dp="ngbDatepicker" (click)="dp.toggle()">
          </div>
          <ng-template #t let-date="date" let-focused="focused">
            <span class="custom-day" [class.range]="isFrom(date) || isTo(date) || isInside(date) || isHovered(date)" [class.faded]="isHovered(date) || isInside(date)"
              (click)="onDateSelection(date)" (mouseenter)="hoveredDate = date" (mouseleave)="hoveredDate = null">
              {{ date.day }}
            </span>
          </ng-template>
        </div>
      </div>
      <div class="col-6">
        <div class="form-group">
          <div class="row combine-field">
            <div class="col-3 p-0 origin">
              <input type="text" placeholder="Currency" [(ngModel)]="selectedCurrency" class="form-control" [ngbTypeahead]="currencies" [resultTemplate]="crt" [inputFormatter]="currencyFormatter">
            </div>
            <div class="col-9 p-0">
              <input type="text" class="form-control" placeholder="Price" [(ngModel)]="selectedPrice">
            </div>
          </div>
          <ng-template #crt let-r="result">
            <div class="d-flex">
              <ngb-highlight [result]="r.CurrencyCode"></ngb-highlight>
            </div>
          </ng-template>
        </div>
      </div>

    </div>

    <button class="btn btn-primary" (click)="savedraftrow()">
      Add
    </button>
  </div>
</div>