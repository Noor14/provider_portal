<section class="Allfreights">
  <section class="manage-rate-card mb-5">
    <div class="row">
      <div class="col-xl-5 col-lg-5 col-md-12">
        <div class="card pointer">
          <img class="card-icon" src="../../../../../assets/images/icons/manager-icon.png" alt="*" />
          <div class="card-body">
            <h5 class="card-title">Upload Your Rates</h5>
            <p class="sub-title">Upload your rates if you already have it</p>
          </div>
        </div>
      </div>
      <div class="col-xl-2 col-lg-2 col-md-12">
        <div class="routing text-center">
          <strong>
            <span>OR</span>
          </strong>
        </div>
      </div>
      <div class="col-xl-5 col-lg-5 col-md-12">
        <div class="card pointer" (click)="addRatesByseaManually()">
          <img class="card-icon" src="../../../../../assets/images/icons/manager-icon.png" alt="*" />
          <div class="card-body">
            <h5 class="card-title">Add Your Rates Manually </h5>
            <p class="sub-title">Use our tool to add your rates manually</p>
          </div>
        </div>
      </div>
    </div>
  </section>
<ngb-tabset activeId="activeFCL" (tabChange)="activeTab = $event.nextId">
  <ngb-tab [disabled]="true">
    <ng-template ngbTabTitle> <span>Unpublished Rates</span> </ng-template>
  </ngb-tab>
  <ngb-tab id="activeFTL">
    <ng-template ngbTabTitle>
<span (click)="filterTable(); generateDraftTable()">
        <svg data-name="Layer 1" id="ee0cf102-a966-4a3f-95ef-2d85d2845fce" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <g data-name="box" id="77a57afb-dc84-48f7-bcef-1ea8af6a0a74">
            <path class="container-svg 324b713b-d0fb-4a53-8548-411c4a22720a" d="M12,2.236l10,5v9.528l-10,5-10-5V7.236l10-5M12,0,0,6V18l12,6,12-6V6L12,0Z"
              data-name="<Compound Path>" id="b7ad858c-ef80-4b01-8e89-887b6e7eba38"></path>
            <polygon class="container-svg 324b713b-d0fb-4a53-8548-411c4a22720a" data-name="<Path>" id="3d2841e7-73c0-49f4-a43e-30e1679abe1b"
              points="12 12.504 0.5 7.316 1.334 5.496 12 10.307 22.666 5.496 23.5 7.316 12 12.504"></polygon>
            <rect class="container-svg 324b713b-d0fb-4a53-8548-411c4a22720a" data-name="<Path>" height="12" id="221b7dca-da17-44bc-bf0a-eaf6705915cb"
              width="2" x="11" y="11"></rect>
          </g>
        </svg>FTL</span>
    </ng-template>
<ng-template ngbTabContent>
<section [ngClass]="{'no-data': !draftslist.length, 'no-scroll-add' : draftslist.length, 'no-pagination': draftslist.length <= dtOptionsByGroundDraft.pageLength}"
  class="rates-grid draft-grid draft-Ground">
  <h5 class="add-rate-head mb-4 mt-4">Unpublished Rates</h5>
  <table id="draftRateTable" cellspacing="0" #draftBYGround class="row-border hover"></table>
  <a href="javascript:;" class="addAnother animated fadeIn" (click)="addAnotherRates()" *ngIf="!draftloading">Add
    another rates</a>
  <!-- <app-loader-main *ngIf="draftloading"></app-loader-main> -->
</section>
<div class="row mt-4">
  <div class="col-12 text-right actions">
    <button class="discard-draft w-auto p-0 border-0 bg-transparent text-uppercase" [disabled]="!draftslist || (draftslist && !draftslist.length)"
      (click)="discardDraft()">Discard Draft
    </button>
    <button class="btn btn-outline-primary btn-lg hvr-sweep-to-right mr-2">Save Draft</button>
    <button class="btn btn-primary btn-lg hvr-sweep-to-right" [disabled]="!publishRates.length" (click)="publishRate()">Publish
      Rates
    </button>
  </div>
</div>
<hr class="hr-solid mt-4">
<h5 class="add-rate-head mb-4 mt-4">Your Rates</h5>
<section class="rates-filter">
  <ngb-accordion>
    <ngb-panel>
      <ng-template ngbPanelTitle>
        <span>
          <img src="../../../../../../../assets/images/icons/filter-icon.svg" alt="Filter" class="icon-size-16 mr-2">Filter
          your results
          <img src="../../../../../../../assets/images/icons/icon_arrow_right.svg" alt="direction" class="icon-size-16 acc-icon">
        </span>
        <span class="clear-filter" (click)="clearFilter($event)">
          <svg id="969970e9-5f21-4072-86a7-6672decd15e6" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <g id="0d761291-d7c4-42bf-9433-98aad825bfb6" data-name="add">
              <g id="bede06dd-acf7-4be6-a923-734e194ecf5e" data-name="sucess">
                <path class="c06d2a3e-2056-48b9-8ea4-a92f4739f949" d="M8,2A6,6,0,1,1,2,8,6.007,6.007,0,0,1,8,2M8,0a8,8,0,1,0,8,8A8,8,0,0,0,8,0Z" />
              </g>
              <polygon class="c06d2a3e-2056-48b9-8ea4-a92f4739f949" points="11 7 9 7 9 5 7 5 7 7 5 7 5 9 7 9 7 11 9 11 9 9 11 9 11 7" />
            </g>
          </svg>
          Reset Filter(s)</span>
      </ng-template>
      <ng-template ngbPanelContent>
        <div class="row" [@fadeInOut]>
          <div class="col-6">
            <div class="form-group">
              <label>Route</label>
              <div class="row combine-field">
                <div class="col-6 origin pl-0">
                  <div class="flag-container">
                    <img *ngIf="filterOrigin && filterOrigin.CountryCode" src="{{'../../../../../assets/images/flags/4x3/' + (filterOrigin.CountryCode | lowercase) + '.svg'}}"
                      type="image/svg+xml" class="mw-100 w-auto h-auto mh-100">
                  </div>
                  <input class="form-control" [(ngModel)]="filterOrigin" (focusout)="filtertionPort(filterOrigin)"
                    (ngModelChange)="filterByroute(filterOrigin)" placeholder="Origin" type="text" [ngClass]="{'routeSelected': filterOrigin && filterOrigin.CountryCode}"
                    [ngbTypeahead]="ports" [resultTemplate]="rt" [inputFormatter]="formatter" />
                </div>
                <div class="col-6 destination pl-0">
                  <div class="flag-container">
                    <img *ngIf="filterDestination && filterDestination.CountryCode" src="{{'../../../../../assets/images/flags/4x3/' + (filterDestination.CountryCode | lowercase) + '.svg'}}"
                      type="image/svg+xml" class="mw-100 w-auto h-auto mh-100">
                  </div>
                  <input placeholder="Destination" [(ngModel)]="filterDestination" (focusout)="filtertionPort(filterDestination)"
                    (ngModelChange)="filterByroute(filterDestination)" type="text" class="form-control" [ngClass]="{'routeSelected': filterDestination && filterDestination.CountryCode}"
                    [ngbTypeahead]="ports" [resultTemplate]="rt" [inputFormatter]="formatter" />
                </div>
              </div>
            </div>
          </div>
          <ng-template #rt let-r="result">
            <div class="d-flex">
              <div class="flag-container mr-1">
                <img src="{{'../../../../../assets/images/flags/4x3/' + (r.CountryCode | lowercase) + '.svg'}}" class="mw-100 w-auto h-auto mh-100">
              </div>
              <ngb-highlight [result]="r.PortName"></ngb-highlight>
            </div>
          </ng-template>
          <div class="col-6">
            <div class="form-group">
              <label>Traller / Container</label>
              <select class="form-control" [(ngModel)]="filterbyContainerType" (change)="filter()">
                <option [value]="undefined">All</option>
                <option *ngFor="let container of allContainersType" [value]="container.ContainerSpecID">{{container.ContainerWithSize}}</option>
              </select>
            </div>
          </div>
          <div class="col-4">
            <div class="form-group date-control">
              <label>Rate Validity</label>
              <div class="dateIcon">
                <input autocomplete="off" #rangeDp class="form-control" placeholder="Start Date - End Date" name="dp"
                  [(ngModel)]="model" ngbDatepicker [dayTemplate]="t" [autoClose]="false" placement="bottom-right"
                  [outsideDays]="true" [navigation]="false" [displayMonths]="2" [maxDate]="maxDate" [minDate]="minDate"
                  #dp="ngbDatepicker" (click)="dp.toggle()" (ngModelChange)="filterBydate(model)">
              </div>
              <ng-template #t let-date="date" let-focused="focused">
                <span class="custom-day" [class.range]="isFrom(date) || isTo(date) || isInside(date) || isHovered(date)"
                  [class.faded]="isHovered(date) || isInside(date)" (click)="onDateSelection(date)" (mouseenter)="hoveredDate = date"
                  (mouseleave)="hoveredDate = null">
                  {{ date.day }}
                </span>
              </ng-template>
            </div>
          </div>
        </div>
      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</section>
<section class="rates-grid mt-5 publishRateGround">
  <div class="d-flex justify-content-end mb-3">
    <a href="javascript:;" class="grid-delete" (click)="deletepublishRecord()" [ngClass]="{'no-drop': !this.delPublishRates.length}">
      <img src="../../../../../../assets/images/icons/icon_delete_red.svg" alt="del_icon" class="icon-size-16">
      Delete
    </a>
  </div>
  <table id="publishRateTable" cellspacing="0" #publishByground class="row-border hover"></table>
  <app-loader-main *ngIf="publishloading"></app-loader-main>
</section>
<section class="term-cond">
  <div class="row">
    <div class="col-12">
      <hr class="hr-solid mt-4">
      <h5 class="add-rate-head mb-4 mt-4">Terms & Conditions</h5>
      <textarea></textarea>
      <button class="btn btn-primary btn-lg hvr-sweep-to-right pull-right pr-5 pl-5 mt-4">Save</button>
    </div>
  </div>
</section>
    </ng-template>
  </ngb-tab>
  <ngb-tab id="activeFCL">
    <ng-template ngbTabTitle>
      <span (click)="filterTable(); generateDraftTable()">
        <svg data-name="Layer 1" id="3e0bd723-1f5e-404f-9c9e-f9fa6a56c26b" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <g data-name="container" id="6744cc39-0259-4947-99c3-524da0baf146">
            <path class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" d="M22,10V22H2V10H22m2-2H0V24H24V8Z"
              data-name="<Compound Path>" id="a13d3843-8cbe-44ec-8bff-9c9271c255f7"></path>
            <rect class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" data-name="<Path>" height="10" id="3bc9a61b-e64a-4a26-a0db-69d1ce9d6b6e"
              width="2" x="5" y="11"></rect>
            <rect class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" data-name="<Path>" height="10" id="15063ed6-0b45-423b-a60a-fb9e8a38780a"
              width="2" x="11" y="11"></rect>
            <rect class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" data-name="<Path>" height="10" id="435b81d5-b0c3-4dda-b6bf-ec8fa8fd643e"
              width="2" x="17" y="11"></rect>
            <rect class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" data-name="<Path>" height="2" id="0dc9424e-7fc7-46da-a1ac-89446f588598"
              transform="translate(-1.607 8.121) rotate(-45)" width="7.543" x="5.229" y="5"></rect>
            <rect class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" data-name="<Path>" height="7.543" id="713c3bf1-8eef-4a1e-a553-96a0cf70b1ea"
              transform="translate(0.15 12.363) rotate(-44.995)" width="2" x="14" y="2.229"></rect>
            <rect class="container-svg 750c96f3-85fa-4da3-ae5f-980e0f5745ce" data-name="<Path>" height="4" id="9e10ba48-acd1-4fa3-a431-1799e0b0691c"
              width="2" x="11"></rect>
          </g>
        </svg>
        FCL</span>
    </ng-template>
    <ng-template ngbTabContent>
<section [ngClass]="{'no-data': !draftslist.length, 'no-scroll-add' : draftslist.length, 'no-pagination': draftslist.length <= dtOptionsByGroundDraft.pageLength}"
  class="rates-grid draft-grid draft-Ground">
  <h5 class="add-rate-head mb-4 mt-4">Unpublished Rates</h5>
  <table id="draftRateTable" cellspacing="0" #draftBYGround class="row-border hover"></table>
  <a href="javascript:;" class="addAnother animated fadeIn" (click)="addAnotherRates()" *ngIf="!draftloading">Add
    another rates</a>
  <!-- <app-loader-main *ngIf="draftloading"></app-loader-main> -->
</section>
<div class="row mt-4">
  <div class="col-12 text-right actions">
    <button class="discard-draft w-auto p-0 border-0 bg-transparent text-uppercase" [disabled]="!draftslist || (draftslist && !draftslist.length)"
      (click)="discardDraft()">Discard Draft
    </button>
    <button class="btn btn-outline-primary btn-lg hvr-sweep-to-right mr-2">Save Draft</button>
    <button class="btn btn-primary btn-lg hvr-sweep-to-right" [disabled]="!publishRates.length" (click)="publishRate()">Publish
      Rates
    </button>
  </div>
</div>
<hr class="hr-solid mt-4">
<h5 class="add-rate-head mb-4 mt-4">Your Rates</h5>
<section class="rates-filter">
  <ngb-accordion>
    <ngb-panel>
      <ng-template ngbPanelTitle>
        <span>
          <img src="../../../../../../../assets/images/icons/filter-icon.svg" alt="Filter" class="icon-size-16 mr-2">Filter
          your results
          <img src="../../../../../../../assets/images/icons/icon_arrow_right.svg" alt="direction" class="icon-size-16 acc-icon">
        </span>
        <span class="clear-filter" (click)="clearFilter($event)">
          <svg id="969970e9-5f21-4072-86a7-6672decd15e6" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">
            <g id="0d761291-d7c4-42bf-9433-98aad825bfb6" data-name="add">
              <g id="bede06dd-acf7-4be6-a923-734e194ecf5e" data-name="sucess">
                <path class="c06d2a3e-2056-48b9-8ea4-a92f4739f949" d="M8,2A6,6,0,1,1,2,8,6.007,6.007,0,0,1,8,2M8,0a8,8,0,1,0,8,8A8,8,0,0,0,8,0Z" />
              </g>
              <polygon class="c06d2a3e-2056-48b9-8ea4-a92f4739f949" points="11 7 9 7 9 5 7 5 7 7 5 7 5 9 7 9 7 11 9 11 9 9 11 9 11 7" />
            </g>
          </svg>
          Reset Filter(s)</span>
      </ng-template>
      <ng-template ngbPanelContent>
        <div class="row" [@fadeInOut]>
          <div class="col-6">
            <div class="form-group">
              <label>Route</label>
              <div class="row combine-field">
                <div class="col-6 origin pl-0">
                  <div class="flag-container">
                    <img *ngIf="filterOrigin && filterOrigin.CountryCode" src="{{'../../../../../assets/images/flags/4x3/' + (filterOrigin.CountryCode | lowercase) + '.svg'}}"
                      type="image/svg+xml" class="mw-100 w-auto h-auto mh-100">
                  </div>
                  <input class="form-control" [(ngModel)]="filterOrigin" (focusout)="filtertionPort(filterOrigin)"
                    (ngModelChange)="filterByroute(filterOrigin)" placeholder="Origin" type="text" [ngClass]="{'routeSelected': filterOrigin && filterOrigin.CountryCode}"
                    [ngbTypeahead]="ports" [resultTemplate]="rt" [inputFormatter]="formatter" />
                </div>
                <div class="col-6 destination pl-0">
                  <div class="flag-container">
                    <img *ngIf="filterDestination && filterDestination.CountryCode" src="{{'../../../../../assets/images/flags/4x3/' + (filterDestination.CountryCode | lowercase) + '.svg'}}"
                      type="image/svg+xml" class="mw-100 w-auto h-auto mh-100">
                  </div>
                  <input placeholder="Destination" [(ngModel)]="filterDestination" (focusout)="filtertionPort(filterDestination)"
                    (ngModelChange)="filterByroute(filterDestination)" type="text" class="form-control" [ngClass]="{'routeSelected': filterDestination && filterDestination.CountryCode}"
                    [ngbTypeahead]="ports" [resultTemplate]="rt" [inputFormatter]="formatter" />
                </div>
              </div>
            </div>
          </div>
          <ng-template #rt let-r="result">
            <div class="d-flex">
              <div class="flag-container mr-1">
                <img src="{{'../../../../../assets/images/flags/4x3/' + (r.CountryCode | lowercase) + '.svg'}}" class="mw-100 w-auto h-auto mh-100">
              </div>
              <ngb-highlight [result]="r.PortName"></ngb-highlight>
            </div>
          </ng-template>
          <div class="col-6">
            <div class="form-group">
              <label>Traller / Container</label>
              <select class="form-control" [(ngModel)]="filterbyContainerType" (change)="filter()">
                <option [value]="undefined">All</option>
                <option *ngFor="let container of allContainersType" [value]="container.ContainerSpecID">{{container.ContainerWithSize}}</option>
              </select>
            </div>
          </div>
          <div class="col-4">
            <div class="form-group date-control">
              <label>Rate Validity</label>
              <div class="dateIcon">
                <input autocomplete="off" #rangeDp class="form-control" placeholder="Start Date - End Date" name="dp"
                  [(ngModel)]="model" ngbDatepicker [dayTemplate]="t" [autoClose]="false" placement="bottom-right"
                  [outsideDays]="true" [navigation]="false" [displayMonths]="2" [maxDate]="maxDate" [minDate]="minDate"
                  #dp="ngbDatepicker" (click)="dp.toggle()" (ngModelChange)="filterBydate(model)">
              </div>
              <ng-template #t let-date="date" let-focused="focused">
                <span class="custom-day" [class.range]="isFrom(date) || isTo(date) || isInside(date) || isHovered(date)"
                  [class.faded]="isHovered(date) || isInside(date)" (click)="onDateSelection(date)" (mouseenter)="hoveredDate = date"
                  (mouseleave)="hoveredDate = null">
                  {{ date.day }}
                </span>
              </ng-template>
            </div>
          </div>
        </div>
      </ng-template>
    </ngb-panel>
  </ngb-accordion>
</section>
<section class="rates-grid mt-5 publishRateGround">
  <div class="d-flex justify-content-end mb-3">
    <a href="javascript:;" class="grid-delete" (click)="deletepublishRecord()" [ngClass]="{'no-drop': !this.delPublishRates.length}">
      <img src="../../../../../../assets/images/icons/icon_delete_red.svg" alt="del_icon" class="icon-size-16">
      Delete
    </a>
  </div>
  <table id="publishRateTable" cellspacing="0" #publishByground class="row-border hover"></table>
  <app-loader-main *ngIf="publishloading"></app-loader-main>
</section>
<section class="term-cond">
  <div class="row">
    <div class="col-12">
      <hr class="hr-solid mt-4">
      <h5 class="add-rate-head mb-4 mt-4">Terms & Conditions</h5>
      <textarea></textarea>
      <button class="btn btn-primary btn-lg hvr-sweep-to-right pull-right pr-5 pl-5 mt-4">Save</button>
    </div>
  </div>
</section>
    </ng-template>
  </ngb-tab>
</ngb-tabset>



</section>